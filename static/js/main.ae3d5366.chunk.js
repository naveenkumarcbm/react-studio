(this["webpackJsonpreact-studio"]=this["webpackJsonpreact-studio"]||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(2),r=n.n(a),i=n(15),l=n.n(i),j=(n(41),n(42),n(4)),s=n(13),b=n(55),o=function(e){var t=Object(b.a)({item:{type:"COMPONENT",data:e},collect:function(e){return{isDragging:e.isDragging()}}}),n=Object(s.a)(t,2)[1];return Object(c.jsxs)("div",{ref:n,className:"itm-container",children:[Object(c.jsx)("span",{children:e.icon}),Object(c.jsx)("b",{className:"label",children:e.label})]})},u=n(6),O=n(31),d=[{label:"button",type:"button",icon:Object(c.jsx)(u.c,{})},{label:"textarea",type:"textarea",icon:Object(c.jsx)(u.f,{})},{label:"label",type:"label",icon:Object(c.jsx)(u.d,{})},{label:"input",type:"input",icon:Object(c.jsx)(O.a,{})},{label:"select",type:"select",icon:Object(c.jsx)(u.a,{})},{label:"Paragraph",type:"p",icon:Object(c.jsx)(u.e,{})},{label:"h1",type:"h1",icon:Object(c.jsx)(u.b,{})},{label:"h2",type:"h2",icon:Object(c.jsx)(u.b,{})},{label:"h3",type:"h3",icon:Object(c.jsx)(u.b,{})}],x=function(){return Object(c.jsx)("div",{className:"grab",children:d.map((function(e,t){return Object(c.jsx)(o,Object(j.a)({},e),"comp_"+t)}))})},f=n(34),h=n(56),v=n(23),p=n.n(v);function m(e,t){var n=function(e){t(e.target.innerText)||console.log(e.target.innerText)};Object(a.useEffect)((function(){var t=e;return null===e||void 0===e||e.current.addEventListener("blur",n),function(){var e;return null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.removeEventListener("blur",n)}}),[])}var g=function(e){var t=Object(a.useRef)(null);return m(t,e.onChange),Object(c.jsx)("button",{contentEditable:!0,ref:t,children:e.label})},N=function(e){return Object(c.jsx)("div",{className:"input",children:Object(c.jsx)("input",Object(j.a)({},e))})},y=function(e){return Object(c.jsx)("div",{className:"textarea",children:Object(c.jsx)("textarea",Object(j.a)({},e))})},C=function(e){var t;return Object(c.jsx)("div",{className:"select",children:Object(c.jsxs)("select",Object(j.a)(Object(j.a)({},e),{},{children:[Object(c.jsx)("option",{value:"",children:"option..."}),null===(t=e.options)||void 0===t?void 0:t.map((function(e,t){return Object(c.jsx)("option",{value:e.value,children:e.label})}))]}))})},E=function(e){var t=Object(a.useRef)(null);return m(t,e.onChange),Object(c.jsx)("p",{contentEditable:!0,ref:t,children:e.label})},R=function(e){var t=Object(a.useRef)(null);return m(t,e.onChange),Object(c.jsx)("h1",{ref:t,contentEditable:!0,children:e.label})},S=function(e){var t=Object(a.useRef)(null);return m(t,e.onChange),Object(c.jsx)("h2",{contentEditable:!0,ref:t,children:e.label})},P=function(e){var t=Object(a.useRef)(null);return m(t,e.onChange),Object(c.jsx)("h3",{contentEditable:!0,ref:t,children:e.label})},L=function(e){var t=Object(a.useRef)(null);return m(t,e.onChange),Object(c.jsx)("label",{contentEditable:!0,ref:t,children:Object(c.jsx)("b",{children:e.label})})},D=function(e){switch(e.data.type){case"button":return Object(c.jsx)(g,Object(j.a)(Object(j.a)({},e.data),e));case"textarea":return Object(c.jsx)(y,Object(j.a)(Object(j.a)({},e.data),e));case"select":return Object(c.jsx)(C,Object(j.a)(Object(j.a)({},e.data),e));case"p":return Object(c.jsx)(E,Object(j.a)(Object(j.a)({},e.data),e));case"h1":return Object(c.jsx)(R,Object(j.a)(Object(j.a)({},e.data),e));case"h2":return Object(c.jsx)(S,Object(j.a)(Object(j.a)({},e.data),e));case"h3":return Object(c.jsx)(P,Object(j.a)(Object(j.a)({},e.data),e));case"label":return Object(c.jsx)(L,Object(j.a)(Object(j.a)({},e.data),e));default:return Object(c.jsx)(N,Object(j.a)(Object(j.a)({},e.data),e))}},k=n(54),w=n(9),T=n(32),I=function(e){var t=e.addPanel,n=e.clearRender;return Object(c.jsxs)("div",{className:"tool-bar",children:[Object(c.jsx)("div",{className:"flex",children:Object(c.jsxs)("span",{onClick:t,children:[Object(c.jsx)(T.a,{}),"Add Panel"]})}),Object(c.jsxs)("div",{className:"flex",children:[Object(c.jsx)("i",{children:"* changes will be autosaved"}),Object(c.jsxs)("span",{onClick:n,children:[Object(c.jsx)(w.b,{})," Clear"]})]})]})},F=function(e){var t=e.onDragStop,n=e.itm,a=e.removeElement,r=e.updateLabel;return Object(c.jsx)(p.a,Object(j.a)(Object(j.a)({},n),{},{onStop:function(e,c){return t(e,c,n)},children:Object(c.jsxs)("div",{className:"drag-item",children:[Object(c.jsx)("span",{className:"action",onClick:function(){return a(n)},children:Object(c.jsx)(w.a,{})}),Object(c.jsx)("div",{className:"field",children:Object(c.jsx)(D,Object(j.a)(Object(j.a)({},n),{},{defaultValue:"",onChange:function(e){return r(n,e)}}))})]})}),n.id)};function J(e){localStorage.setItem("componentList",JSON.stringify(e))}var A=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("componentList"))||[];r(e)}),[]);var l=Object(h.a)({accept:"COMPONENT",drop:function(e,t){console.log("monitor",t);var c=Object(f.a)(n),a=Object(j.a)({},e);a.id=Object(k.a)(),a.position={x:0,y:0},c.push(a),r(c),console.log("cmp list",c)},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),b=Object(s.a)(l,2)[1],o=function(e,t,n){r((function(e){var c=e.map((function(e){var c=e;return e.id===n.id&&(c=Object(j.a)(Object(j.a)({},e),{},{position:{x:t.x,y:t.y}})),c}));return J(c),c}))},u=function(e){r((function(t){var n=t.filter((function(t,n){return t.id!==e.id}));return J(n),n}))},O=function(e,t){var n=t.target?t.target.value:t;r((function(c){var a=c.map((function(c){var a=c;return c.id===e.id&&(a.label=n),t.target&&(a.defaultValue=t.target.value),a}));return J(a),a}))};return Object(c.jsxs)("div",{children:[Object(c.jsx)(I,{clearRender:function(){window.confirm("Are you sure to clear all components?")&&(r([]),J([]))},addPanel:function(){alert("Yet to Implement")}}),Object(c.jsx)("div",{id:"renderer",ref:b,className:"renderer",children:Object(c.jsx)("div",{nodeRef:i,children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(c.jsx)(F,{itm:e,onDragStop:o,removeElement:u,updateLabel:O},e.id)}))})})]})},M=r.a.createContext({});var B=function(){return Object(c.jsxs)(M.Provider,{value:{},children:[Object(c.jsx)("header",{className:"App-header",children:Object(c.jsx)("h3",{children:"React Studio"})}),Object(c.jsxs)("main",{children:[Object(c.jsx)(x,{}),Object(c.jsx)(A,{})]})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},Y=n(53),_=n(33);l.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(Y.a,{backend:_.a,children:Object(c.jsx)(B,{})})}),document.getElementById("root")),V()}},[[50,1,2]]]);
//# sourceMappingURL=main.ae3d5366.chunk.js.map